# Lenta Parser

Парсер для сбора данных о товарах с сайта Лента. Проект использует современные практики Python-разработки, включая асинхронное программирование для оптимизации производительности.

## Особенности

- Асинхронные HTTP-запросы с использованием `aiohttp`
- Сбор данных по 100 товаров для каждого магазина
- Подробное логирование операций
- Обработка ошибок и таймауты
- Сохранение результатов в CSV формат
- Поддержка нескольких городов

## Архитектура

Проект состоит из следующих основных компонентов:

1. `main.py` - основной файл с логикой парсера
   - Класс `LentaAPI` для работы с API Ленты
   - Класс `CSVWriter` для сохранения данных
   - Асинхронные функции для сбора данных

2. `config.py` - конфигурационный файл
   - Настройки API
   - Константы для городов и магазинов
   - Параметры CSV файлов
   - Заголовки запросов

3. `logger.py` - модуль логирования
   - Настройка логгера
   - Сохранение логов в JSON формате
   - Подробное логирование операций

## Требования

- Python 3.10+
- aiohttp
- pandas
- requests

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/lenta_parser.git
cd lenta_parser
```

2. Создайте и активируйте виртуальное окружение:
```bash
# Windows
python -m venv .venv
.venv\Scripts\activate

# Linux/MacOS
python3 -m venv .venv
source .venv/bin/activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Использование

Запустите парсер:
```bash
python main.py
```

Результаты будут сохранены в CSV файлы:
- `lenta_москва.csv`
- `lenta_санкт-петербург.csv`

## Структура проекта

- `main.py` - основной файл парсера
- `config.py` - конфигурация
- `logger.py` - настройка логирования
- `requirements.txt` - зависимости проекта
- `logs/` - директория с логами
- `*.csv` - файлы с результатами

## Оптимизации

- Асинхронные HTTP-запросы через `aiohttp`
- Эффективное управление соединениями
- Асинхронное сохранение данных
- Контроль количества запрашиваемых товаров
- Задержки между запросами для избежания блокировки

## Лицензия

MIT